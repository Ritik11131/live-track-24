<div *ngIf="layout === 1 || (layout===10 && configEnable)" class="card">
  <p-tabView [(activeIndex)]="activeTabIndex" (onChange)="onTabChange($event)">
    <p-tabPanel header="Basic Details">
      <span class="text-2xl font-bold mb-4 block">{{ buttonText }}</span>
      <div class="grid">
        <div class="col-12">
          <p class="m-0 p-0 text-xl line-height-3 mr-3">
            Please Provide necessary data to {{ buttonText }}
          </p>
        </div>
        <div class="col-12 lg:col-10">
          <ng-container *ngTemplateOutlet="userFormTemplate"></ng-container>
        </div>
      </div>
    </p-tabPanel>
    <p-tabPanel header="Configuration Details">
      <ng-template pTemplate="content">
        <app-configuration-detail></app-configuration-detail>
      </ng-template>
    </p-tabPanel>
  </p-tabView>
</div>

<div *ngIf="layout === 2 || (layout===10 && !configEnable)" class="card">
  <span class="text-2xl font-bold mb-4 block">{{ buttonText }}</span>
  <div class="grid">
    <div class="col-12">
      <p class="m-0 p-0 text-xl line-height-3 mr-3">
        Please Provide necessary data to {{ buttonText }}
      </p>
    </div>
    <div class="col-12 lg:col-10">
      <ng-container *ngTemplateOutlet="userFormTemplate"></ng-container>
    </div>
  </div>
</div>

<ng-template #userFormTemplate>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="grid formgrid p-fluid">
    <div class="field mb-4 col-12 md:col-4">
      <label for="username" class="font-medium text-xl">Username *</label>
      <input class="text-xl" id="username" formControlName="userName" type="text" pInputText />
      <small class="text-red-500 text-sm" *ngIf="isSubmitted && userForm.get('userName')?.invalid">
        Username is required
      </small>
    </div>
    <div class="field mb-4 col-12 md:col-4">
      <label for="email" class="font-medium text-xl">Email</label>
      <input class="text-xl" id="email" formControlName="email" type="text" pInputText />
    </div>
    <div class="field mb-4 col-12 md:col-4">
      <label for="mobileNo" class="font-medium text-xl">Mobile Number *</label>
      <input class="text-xl" id="mobileNo" formControlName="mobileNo" type="text" pInputText />
      <small class="text-red-500 text-sm" *ngIf="isSubmitted && userForm.get('mobileNo')?.invalid">
        Mobile Number is required
      </small>
    </div>
    <div class="field mb-4 col-12 md:col-4">
      <label for="loginId" class="font-medium text-xl">Login Id *</label>
      <input class="text-xl" id="loginId" formControlName="loginId" type="text" pInputText />
      <small class="text-red-500 text-sm" *ngIf="isSubmitted && userForm.get('loginId')?.invalid">
        LoginId is required
      </small>
    </div>
    <div class="field mb-4 col-12 md:col-4">
      <label for="password" class="font-medium text-xl">Password *</label>
      <input class="text-xl" id="password" formControlName="password" type="text" pInputText />
      <small class="text-red-500 text-sm" *ngIf="isSubmitted && userForm.get('password')?.invalid">
        Password is required
      </small>
    </div>
    <div class="field mb-4 col-12 md:col-4">
      <label for="userType" class="font-medium text-xl">User Type *</label>
      <p-dropdown
        [options]="userTypes"
        optionLabel="label"
        optionValue="value"
        id="userType"
        formControlName="userType"
        placeholder="Select a User Type"
      ></p-dropdown>
      <small class="text-red-500 text-sm" *ngIf="isSubmitted && userForm.get('userType')?.invalid">
        Usertype is required
      </small>
    </div>
    <div class="col-12 flex gap-2 flex-row">
      <button pButton pRipple type="submit" label="{{ buttonText }}" class="w-auto text-xl mt-3"></button>
      <button pButton pRipple style="background-color: red; border-color: red;" type="button" (click)="cancel()" label="Cancel" class="w-auto text-xl mt-3"></button>
    </div>
  </form>
</ng-template>

<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>
